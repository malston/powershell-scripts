{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Run Pester Tests",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-Command",
                "Invoke-Pester -Path './tests' -Output Detailed"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": "$pester"
        },
        {
            "label": "Run Current Script",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "${file}"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Import Module",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-Command",
                "Import-Module ./modules/MyModule/MyModule.psd1 -Force -Verbose"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Run Build Script",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "./tools/build.ps1",
                "-Task",
                "${input:buildTask}"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "new"
            }
        },
        {
            "label": "Analyze Code",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-Command",
                "Invoke-ScriptAnalyzer -Path . -Recurse"
            ],
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Get System Info",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "./scripts/administration/Get-SystemInfo.ps1"
            ],
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Get System Info (Windows)",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "./scripts/administration/Get-SystemInfo-Windows.ps1"
            ],
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Install PowerCLI",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "./scripts/administration/Install-PowerCLI.ps1"
            ],
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        },
        {
            "label": "Install PowerCLI (WhatIf)",
            "type": "process",
            "command": "pwsh",
            "args": [
                "-NoProfile",
                "-File",
                "./scripts/administration/Install-PowerCLI.ps1",
                "-WhatIf"
            ],
            "group": "none",
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            }
        }
    ],
    "inputs": [
        {
            "id": "buildTask",
            "type": "pickString",
            "description": "Select build task",
            "options": [
                "Clean",
                "Build",
                "Test",
                "Package",
                "Deploy",
                "All"
            ],
            "default": "Build"
        }
    ]
}